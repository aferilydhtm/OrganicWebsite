{"version":3,"file":"sc-select.js","sourceRoot":"","sources":["../../../../src/components/ui/select/sc-select.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Prop, h, State, Watch, Event, EventEmitter, Method, Element, Listen } from '@stencil/core';\nimport { ChoiceItem } from '../../../types';\nimport Fuse from 'fuse.js';\nimport { FormSubmitController } from '../../../functions/form-data';\nimport { __ } from '@wordpress/i18n';\nimport { isValidURL } from '../../../functions/util';\n\nlet id = 0;\nlet itemIndex = 0;\nlet arrowFlag = '';\n\n/**\n * @part base - The elements base wrapper.\n * @part input - The html input element.\n * @part form-control - The form control wrapper.\n * @part label - The input label.\n * @part help-text - Help text that describes how to use the input.\n * @part trigger - The trigger for the dropdown.\n * @part panel - Them panel for the dropdown.\n * @part caret - The caret.\n * @part search___base - The search base wrapper.\n * @part search__input - The search input element.\n * @part search__form-control - The search form control wrapper.\n * @part menu__base - The menu base.\n * @part spinner__base - The spinner base.\n * @part empty - The empty message.\n */\n@Component({\n  tag: 'sc-select',\n  styleUrl: 'sc-select.scss',\n  shadow: true,\n})\nexport class ScSelectDropdown {\n  /** Element */\n  @Element() el: HTMLScSelectElement;\n\n  private formController: any;\n\n  private searchInput: HTMLScInputElement;\n  private input: HTMLInputElement;\n\n  private inputId: string = `select-${++id}`;\n  private helpId = `select-help-text-${id}`;\n  private labelId = `select-label-${id}`;\n\n  /** The input's autocomplete attribute. */\n  @Prop() autocomplete: string;\n\n  /** Placeholder for no value */\n  @Prop() placeholder: string = '';\n\n  /** Placeholder for search */\n  @Prop() searchPlaceholder: string = '';\n\n  /** The input's value attribute. */\n  @Prop({ mutable: true, reflect: true }) value = '';\n\n  /** The input's value attribute. */\n  @Prop({ mutable: true }) choices: Array<ChoiceItem> = [];\n\n  /** Can we unselect items. */\n  @Prop() unselect: boolean = true;\n\n  /* Is it required */\n  @Prop({ reflect: true }) required: boolean;\n\n  /* Is it loading */\n  @Prop() loading: boolean;\n\n  /** Is search enabled? */\n  @Prop() search: boolean;\n\n  /** The input's name attribute. */\n  @Prop({ reflect: true }) name: string;\n\n  /** Some help text for the input. */\n  @Prop() help: string;\n\n  /** The input's label. */\n  @Prop() label: string;\n\n  /** The input's size. */\n  @Prop({ reflect: true }) size: 'small' | 'medium' | 'large' = 'medium';\n\n  @Prop() position: 'bottom-left' | 'bottom-right' | 'top-left' | 'top-right' = 'bottom-right';\n\n  /** The placement of the dropdown. */\n  @Prop({ reflect: true }) placement:\n    | 'top'\n    | 'top-start'\n    | 'top-end'\n    | 'bottom'\n    | 'bottom-start'\n    | 'bottom-end'\n    | 'right'\n    | 'right-start'\n    | 'right-end'\n    | 'left'\n    | 'left-start'\n    | 'left-end' = 'bottom-start';\n\n  /**\n   * This will be true when the control is in an invalid state. Validity is determined by props such as `type`,\n   * `required`, `minlength`, `maxlength`, and `pattern` using the browser's constraint validation API.\n   */\n  @Prop({ mutable: true, reflect: true }) invalid = false;\n\n  /** Is this open */\n  @Prop({ mutable: true }) open: boolean;\n  @Prop() disabled: boolean;\n  @Prop() showParentLabel: boolean = true;\n  @Prop() hoist: boolean = false;\n\n  @Prop() squared: boolean;\n  @Prop() squaredBottom: boolean;\n  @Prop() squaredTop: boolean;\n  @Prop() squaredLeft: boolean;\n  @Prop() squaredRight: boolean;\n\n  @State() private hasFocus: boolean = false;\n\n  /** Search term */\n  @State() searchTerm: string = '';\n\n  /** Search term */\n  @State() filteredChoices: Array<ChoiceItem> = [];\n\n  /** Emitted whent the components search query changes */\n  @Event() scSearch: EventEmitter<string>;\n\n  /** Emitted whent the components search query changes */\n  @Event() scOpen: EventEmitter<string>;\n\n  /** Emitted whent the components search query changes */\n  @Event() scClose: EventEmitter<string>;\n\n  /** Emitted when the control loses focus. */\n  @Event() scBlur: EventEmitter<void>;\n\n  /** Emitted when the control gains focus. */\n  @Event() scFocus: EventEmitter<void>;\n\n  /** Emitted when the control's value changes. */\n  @Event({ composed: true })\n  scChange: EventEmitter<void>;\n\n  /** Emitted when the list scrolls to the end. */\n  @Event() scScrollEnd: EventEmitter<void>;\n\n  /** Trigger focus on show */\n  handleShow() {\n    this.open = true;\n    this.scOpen.emit();\n    setTimeout(() => {\n      this.searchInput && this.searchInput.triggerFocus();\n    }, 50);\n  }\n\n  handleHide() {\n    this.open = false;\n    itemIndex = 0;\n    this.scClose.emit();\n  }\n\n  handleBlur() {\n    this.hasFocus = false;\n    this.scBlur.emit();\n  }\n\n  handleFocus() {\n    this.hasFocus = true;\n    this.scFocus.emit();\n  }\n\n  /** Get the display value of the item. */\n  displayValue() {\n    if (!this.value) return false;\n    let chosen = this.choices.find(choice => choice.value == this.value);\n    let append = '';\n    if (!chosen) {\n      if (this.showParentLabel) {\n        append = this.choices.find(choice => choice?.choices?.some?.(subChoice => subChoice.value === this.value))?.label;\n      }\n      const subchoices = (this.choices || []).map(choice => choice.choices).flat();\n      chosen = subchoices.find(choice => choice?.value == this.value);\n    }\n    if (chosen) {\n      return `${append ? append + ' - ' : ''}${chosen?.label}`;\n    }\n    return false;\n  }\n\n  isChecked({ value }) {\n    return this.value === value;\n  }\n\n  /** Sets a custom validation message. If `message` is not empty, the field will be considered invalid. */\n  @Method()\n  async setCustomValidity(message: string) {\n    this.input.setCustomValidity(message);\n    this.invalid = !this.input.checkValidity();\n  }\n\n  @Method()\n  async reportValidity() {\n    return this.input.reportValidity();\n  }\n\n  handleQuery(e) {\n    this.searchTerm = e.target.value;\n    this.scSearch.emit(this.searchTerm);\n  }\n\n  handleSelect(value) {\n    if (this.value === value && this.unselect) {\n      this.value = '';\n    } else {\n      this.value = value;\n    }\n\n    this.scChange.emit();\n  }\n\n  @Watch('searchTerm')\n  @Watch('choices')\n  handleSearchChange() {\n    const fuse = new Fuse(this.choices, {\n      keys: ['value', 'label'],\n    });\n\n    if (this.searchTerm) {\n      const results = fuse.search(this.searchTerm) as any;\n      this.filteredChoices = results.map(result => result.item);\n    } else {\n      this.filteredChoices = this.choices;\n    }\n  }\n\n  @Watch('value')\n  handleValueChange() {\n    if (this.input) {\n      this.invalid = !this.input.checkValidity();\n    }\n  }\n\n  @Watch('open')\n  handleOpenChange() {\n    if (this.open) {\n      this.scOpen.emit();\n      this.searchInput && this.searchInput.triggerFocus();\n    } else {\n      this.scClose.emit();\n    }\n  }\n\n  handleMenuScroll(e) {\n    const scrollTop = e.target.scrollTop;\n    const scrollHeight = e.target.scrollHeight;\n    const offsetHeight = e.target.offsetHeight;\n    const contentHeight = scrollHeight - offsetHeight;\n    if (contentHeight - scrollTop < 5) this.scScrollEnd.emit();\n  }\n\n  componentWillLoad() {\n    this.handleSearchChange();\n  }\n\n  componentDidLoad() {\n    this.formController = new FormSubmitController(this.el).addFormData();\n    if (this.open) {\n      this.searchInput && this.searchInput.triggerFocus();\n    }\n  }\n\n  getItems() {\n    return [...this.el.shadowRoot.querySelectorAll<HTMLScMenuItemElement>('sc-menu-item')];\n  }\n\n  @Listen('keydown')\n  handleKeyDown(event: KeyboardEvent) {\n    const target = event.target as HTMLElement;\n    const items = this.getItems();\n\n    // Ignore key presses on tags\n    if (target.tagName.toLowerCase() === 'sc-tag') {\n      return;\n    }\n\n    // Tabbing out of the control closes it\n    if (event.key === 'Tab') {\n      if (this.open) {\n        this.handleHide();\n      }\n\n      return;\n    }\n\n    // Up/down opens the menu\n    if (['ArrowDown', 'ArrowUp'].includes(event.key)) {\n      event.preventDefault();\n\n      // Show the menu if it's not already open\n      if (!this.open) {\n        this.handleShow();\n      }\n\n      // Focus on a menu item\n      if (event.key === 'ArrowDown') {\n        if (arrowFlag == 'up') {\n          itemIndex = itemIndex + 2;\n        }\n        if (itemIndex > items.length - 1) {\n          itemIndex = 0;\n        }\n\n        items[itemIndex].setFocus();\n\n        arrowFlag = 'down';\n        itemIndex++;\n\n        return;\n      }\n\n      if (event.key === 'ArrowUp') {\n        if (arrowFlag == 'down') {\n          itemIndex = itemIndex - 2;\n        }\n        if (itemIndex < 0) {\n          itemIndex = items.length - 1;\n        }\n\n        items[itemIndex].setFocus();\n\n        arrowFlag = 'up';\n        itemIndex--;\n\n        return;\n      }\n    }\n\n    // Close select dropdown on Esc/Escape key\n    if (event.key === 'Escape') {\n      if (this.open) {\n        this.input.focus();\n        this.handleHide();\n      }\n\n      return;\n    }\n\n    // Open select dropdown with Enter\n    if (event.key === 'Enter') {\n      if (this.open) {\n        items[itemIndex - 1].click();\n        this.handleHide();\n        this.input.focus();\n      } else {\n        this.handleShow();\n      }\n    }\n\n    // don't open the menu when a CTRL/Command key is pressed\n    if (event.ctrlKey || event.metaKey) {\n      return;\n    }\n\n    // All other \"printable\" keys open the menu and initiate type to select\n    // TODO: this is closing out the dropdown during typing events.\n    // FIX: It must have focus as well. And it fix the random closing issue.\n    if (!this.open && this.hasFocus && event.key.length === 1) {\n      this.handleShow();\n    }\n  }\n\n  disconnectedCallback() {\n    this.formController?.removeFormData();\n  }\n\n  renderIcon(icon) {\n    if (isValidURL(icon)) {\n      return <img src={icon} alt=\"icon\" slot=\"prefix\" class=\"choice__icon--image\" />;\n    }\n    return <sc-icon name={icon} slot=\"prefix\" class=\"choice__icon\" />;\n  }\n\n  renderItem(choice: ChoiceItem, index: number) {\n    if (choice?.choices?.length) {\n      return <sc-menu-label key={index}>{choice.label}</sc-menu-label>;\n    }\n\n    return (\n      <sc-menu-item\n        key={index}\n        checked={this.isChecked(choice)}\n        value={choice?.value}\n        onClick={() => !choice.disabled && this.handleSelect(choice.value)}\n        disabled={choice.disabled}\n      >\n        {choice.label}\n        {!!choice?.suffix && <span slot=\"suffix\">{choice.suffix}</span>}\n        {!!choice?.icon && this.renderIcon(choice.icon)}\n      </sc-menu-item>\n    );\n  }\n\n  render() {\n    return (\n      <div\n        part=\"base\"\n        class={{\n          'select': true,\n          'select--placeholder': !this.value,\n          'select--focused': this.hasFocus,\n          'select--is-open': !!this.open,\n          'select--disabled': this.disabled,\n          'select--has-choices': !!this?.choices?.length,\n          'select--squared': this.squared,\n          'select--squared-bottom': this.squaredBottom,\n          'select--squared-top': this.squaredTop,\n          'select--squared-left': this.squaredLeft,\n          'select--squared-right': this.squaredRight,\n        }}\n      >\n        <sc-form-control\n          exportparts=\"label, help-text, form-control\"\n          size={this.size}\n          required={this.required}\n          label={this.label}\n          help={this.help}\n          inputId={this.inputId}\n          helpId={this.helpId}\n          labelId={this.labelId}\n          name={this.name}\n        >\n          <input\n            class=\"select__hidden-input\"\n            onBlur={() => this.handleBlur()}\n            onFocus={() => this.handleFocus()}\n            name={this.name}\n            ref={el => (this.input = el as HTMLInputElement)}\n            value={this.value}\n            required={this.required}\n            disabled={this.disabled}\n          ></input>\n\n          <sc-dropdown\n            exportparts=\"trigger, panel\"\n            disabled={this.disabled}\n            open={this.open}\n            position={this.position}\n            placement={this.placement}\n            hoist={this.hoist}\n            style={{ '--panel-width': '100%' }}\n            onScShow={() => this.handleShow()}\n            onScHide={() => this.handleHide()}\n          >\n            <div class=\"trigger\" slot=\"trigger\">\n              <div class=\"select__value\">{this.displayValue() || this.placeholder || 'Select...'}</div>\n              <sc-icon exportparts=\"base:caret\" class=\"select__caret\" name=\"chevron-down\" />\n            </div>\n\n            {this.search && (\n              <sc-input\n                exportparts=\"base:search__base, input:search__input, form-control:search__form-control\"\n                placeholder={this.searchPlaceholder || 'Search...'}\n                onScInput={e => this.handleQuery(e)}\n                class=\"search\"\n                clearable\n                part=\"search\"\n                ref={el => (this.searchInput = el as HTMLScInputElement)}\n              >\n                {this.loading && <sc-spinner exportparts=\"base:spinner__base\" style={{ '--spinner-size': '0.5em' }} slot=\"suffix\"></sc-spinner>}\n              </sc-input>\n            )}\n\n            <sc-menu style={{ maxHeight: '210px', overflow: 'auto' }} exportparts=\"base:menu__base\" onScroll={e => this.handleMenuScroll(e)}>\n              <slot name=\"prefix\"></slot>\n              {(this.filteredChoices || []).map((choice, index) => {\n                return [this.renderItem(choice, index), (choice.choices || []).map(choice => this.renderItem(choice, index))];\n              })}\n              {this.loading && (\n                <div class=\"loading\">\n                  <sc-spinner exportparts=\"base:spinner__base\"></sc-spinner>\n                </div>\n              )}\n              {!this.loading && !this.filteredChoices.length && (\n                <div class=\"select__empty\" part=\"empty\">\n                  {__('Nothing Found', 'surecart')}\n                </div>\n              )}\n              <slot name=\"suffix\"></slot>\n            </sc-menu>\n          </sc-dropdown>\n        </sc-form-control>\n      </div>\n    );\n  }\n}\n"]}
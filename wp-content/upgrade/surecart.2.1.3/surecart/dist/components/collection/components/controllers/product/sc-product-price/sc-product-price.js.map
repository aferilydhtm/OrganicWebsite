{"version":3,"file":"sc-product-price.js","sourceRoot":"","sources":["../../../../../src/components/controllers/product/sc-product-price/sc-product-price.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AACnD,OAAO,EAAE,EAAE,EAAE,MAAM,iBAAiB,CAAC;AAErC,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AAOvC,MAAM,OAAO,cAAc;;;;;EAIzB,WAAW;IACT,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,KAAK,CAAC,EAAE;MAC7B,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;KAC1C;IACD,OAAO,sBAAgB,MAAM,EAAE,KAAK,CAAC,MAAM,GAAI,CAAC;EAClD,CAAC;EAED,WAAW,CAAC,KAAK;IACf,IAAI,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM,EAAE;MACjB,OAAO,EAAE,CAAC,eAAe,EAAE,UAAU,CAAC,CAAC;KACxC;IAED,IAAI,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM,MAAK,CAAC,EAAE;MACvB,OAAO,EAAE,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;KAC/B;IAED,OAAO,CACL,WAAK,KAAK,EAAC,OAAO;MACf,CAAC,CAAC,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,cAAc,CAAA,IAAI,CAC1B,wBAAkB,KAAK,EAAC,eAAe,EAAC,IAAI,EAAC,gBAAgB,EAAC,IAAI,EAAC,UAAU,EAAC,QAAQ,EAAE,KAAK,CAAC,QAAQ,EAAE,KAAK,EAAE,KAAK,CAAC,cAAc,GAAqB,CACzJ;MACD,wBAAkB,IAAI,EAAC,UAAU,EAAC,KAAK,EAAE,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,QAAQ,GAAI;MACpF,CAAC,CAAC,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,cAAc,CAAA,IAAI,CAC1B,cAAQ,IAAI,EAAC,SAAS,EAAC,IAAI,QAAC,KAAK,EAAC,YAAY,IAC3C,IAAI,CAAC,QAAQ,IAAI,EAAE,CAAC,MAAM,EAAE,UAAU,CAAC,CACjC,CACV,CACG,CACP,CAAC;EACJ,CAAC;EAED,MAAM;IACJ,IAAI,KAAK,CAAC,aAAa,EAAE;MACvB,OAAO,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;KAC9C;IAED,IAAI,KAAK,CAAC,MAAM,CAAC,MAAM,EAAE;MACvB,OAAO,IAAI,CAAC,WAAW,EAAE,CAAC;KAC3B;IAED,OAAO,eAAQ,CAAC;EAClB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CACF","sourcesContent":["import { Component, h, Prop } from '@stencil/core';\nimport { __ } from '@wordpress/i18n';\nimport { Price } from '../../../../types';\nimport { state } from '@store/product';\n\n@Component({\n  tag: 'sc-product-price',\n  styleUrl: 'sc-product-price.css',\n  shadow: true,\n})\nexport class ScProductPrice {\n  @Prop() prices: Price[];\n  @Prop() saleText: string;\n\n  renderRange() {\n    if (state.prices.length === 1) {\n      return this.renderPrice(state.prices[0]);\n    }\n    return <sc-price-range prices={state.prices} />;\n  }\n\n  renderPrice(price) {\n    if (price?.ad_hoc) {\n      return __('Custom Amount', 'surecart');\n    }\n\n    if (price?.amount === 0) {\n      return __('Free', 'surecart');\n    }\n\n    return (\n      <div class=\"price\">\n        {!!price?.scratch_amount && (\n          <sc-format-number class=\"scratch-price\" part=\"price__scratch\" type=\"currency\" currency={price.currency} value={price.scratch_amount}></sc-format-number>\n        )}\n        <sc-format-number type=\"currency\" value={price?.amount} currency={price?.currency} />\n        {!!price?.scratch_amount && (\n          <sc-tag type=\"primary\" pill class=\"sale-badge\">\n            {this.saleText || __('Sale', 'surecart')}\n          </sc-tag>\n        )}\n      </div>\n    );\n  }\n\n  render() {\n    if (state.selectedPrice) {\n      return this.renderPrice(state.selectedPrice);\n    }\n\n    if (state.prices.length) {\n      return this.renderRange();\n    }\n\n    return <slot />;\n  }\n}\n"]}
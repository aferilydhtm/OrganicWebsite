{"version":3,"file":"sc-line-item-total.js","sourceRoot":"","sources":["../../../../../src/components/controllers/checkout-form/line-item-total/sc-line-item-total.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Checkout } from '../../../../types';\nimport { Component, h, Prop } from '@stencil/core';\nimport { openWormhole } from 'stencil-wormhole';\nimport { __ } from '@wordpress/i18n';\n\n@Component({\n  tag: 'sc-line-item-total',\n  styleUrl: 'sc-line-item-total.scss',\n  shadow: true,\n})\nexport class ScLineItemTotal {\n  @Prop() total: 'total' | 'subtotal' = 'total';\n  @Prop() loading: boolean;\n  @Prop() order: Checkout;\n  @Prop() size: 'large' | 'medium';\n\n  order_key = {\n    total: 'total_amount',\n    subtotal: 'subtotal_amount',\n    amount_due: 'amount_due',\n  };\n\n  render() {\n    // loading state\n    if (this.loading && !this.order?.[this?.order_key?.[this?.total]]) {\n      return (\n        <sc-line-item>\n          <sc-skeleton slot=\"title\" style={{ width: '120px', display: 'inline-block' }}></sc-skeleton>\n          <sc-skeleton slot=\"price\" style={{ 'width': '70px', 'display': 'inline-block', 'height': this.size === 'large' ? '40px' : '', '--border-radius': '6px' }}></sc-skeleton>\n        </sc-line-item>\n      );\n    }\n\n    if (!this.order?.currency) return;\n\n    // if the total amount is different than the amount due.\n    if (this.total === 'total' && this.order?.total_amount !== this.order?.amount_due) {\n      return (\n        <div class=\"line-item-total__group\">\n          <sc-line-item>\n            <span slot=\"description\">\n              <slot name=\"title\" />\n              <slot name=\"description\" />\n            </span>\n            <span slot=\"price\">\n              <sc-total order={this.order} total={this.total}></sc-total>\n            </span>\n          </sc-line-item>\n          <sc-line-item style={{ '--price-size': 'var(--sc-font-size-x-large)' }}>\n            <span slot=\"title\">\n              <slot name=\"subscription-title\">{__('Total Due Today', 'surecart')}</slot>\n            </span>\n            <span slot=\"price\">\n              <sc-format-number type=\"currency\" currency={this.order?.currency} value={this.order?.amount_due}></sc-format-number>\n            </span>\n          </sc-line-item>\n        </div>\n      );\n    }\n\n    return (\n      <sc-line-item style={this.size === 'large' ? { '--price-size': 'var(--sc-font-size-x-large)' } : {}}>\n        <span slot=\"title\">\n          <slot name=\"title\" />\n        </span>\n        <span slot=\"description\">\n          <slot name=\"description\" />\n        </span>\n        <span slot=\"price\">\n          {!!this.order?.total_savings_amount && this.total === 'total' && (\n            <sc-format-number class=\"scratch-price\" type=\"currency\" value={-this.order?.total_savings_amount + this.order?.total_amount} currency={this.order?.currency || 'usd'} />\n          )}\n          <sc-total class=\"total-price\" order={this.order} total={this.total}></sc-total>\n        </span>\n      </sc-line-item>\n    );\n  }\n}\n\nopenWormhole(ScLineItemTotal, ['order', 'loading', 'calculating'], false);\n"]}
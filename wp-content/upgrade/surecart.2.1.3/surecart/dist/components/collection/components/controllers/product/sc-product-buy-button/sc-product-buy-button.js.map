{"version":3,"file":"sc-product-buy-button.js","sourceRoot":"","sources":["../../../../../src/components/controllers/product/sc-product-buy-button/sc-product-buy-button.tsx"],"names":[],"mappings":"AAAA,OAAO,EAAE,SAAS,EAAE,OAAO,EAAE,CAAC,EAAE,IAAI,EAAE,MAAM,eAAe,CAAC;AAC5D,OAAO,EAAE,KAAK,EAAE,MAAM,gBAAgB,CAAC;AAEvC,OAAO,EAAE,cAAc,EAAE,MAAM,0BAA0B,CAAC;AAO1D,MAAM,OAAO,kBAAkB;EAG7B,eAAe,CAAC,CAAC;;IACf,CAAC,CAAC,cAAc,EAAE,CAAC;IAEnB,4BAA4B;IAC5B,IAAI,KAAK,CAAC,IAAI;MAAE,OAAO;IAEvB,gCAAgC;IAChC,IAAI,MAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,aAAa,0CAAE,MAAM,EAAE;MAChC,OAAO,CAAC,KAAK,CAAC,MAAM,GAAG,QAAQ,CAAC,CAAC;KAClC;IAED,wBAAwB;IACxB,cAAc,EAAE,CAAC;EACnB,CAAC;EAED,MAAM;IACJ,OAAO,CACL,EAAC,IAAI,IAAC,KAAK,EAAE,EAAE,SAAS,EAAE,KAAK,CAAC,IAAI,EAAE,aAAa,EAAE,KAAK,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,CAAC,CAAC,EAAE,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC;MAC1G,eAAQ,CACH,CACR,CAAC;EACJ,CAAC;;;;;;;;;CACF","sourcesContent":["import { Component, Element, h, Host } from '@stencil/core';\nimport { state } from '@store/product';\nimport { __ } from '@wordpress/i18n';\nimport { submitCartForm } from '@store/product/mutations';\n\n@Component({\n  tag: 'sc-product-buy-button',\n  styleUrl: 'sc-product-buy-button.scss',\n  shadow: false,\n})\nexport class ScProductBuyButton {\n  @Element() el: HTMLScProductBuyButtonElement;\n\n  handleCartClick(e) {\n    e.preventDefault();\n\n    // already busy, do nothing.\n    if (state.busy) return;\n\n    // ad hoc price, use the dialog.\n    if (state?.selectedPrice?.ad_hoc) {\n      return (state.dialog = 'ad_hoc');\n    }\n\n    // submit the cart form.\n    submitCartForm();\n  }\n\n  render() {\n    return (\n      <Host class={{ 'is-busy': state.busy, 'is-disabled': state.disabled }} onClick={e => this.handleCartClick(e)}>\n        <slot />\n      </Host>\n    );\n  }\n}\n"]}
{"file":"sc-cart-loader.js","mappings":";;;;AAAA,MAAM,eAAe,GAAG,iGAAiG;;MCU5GA,cAAY;;;;;gBAKS,MAAM;;;EAKtC,MAAM;;;IAEJ,IAAI,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,EAAE;MACzC,OAAO;KACR;;IAGD,MAAM,KAAK,GAAG,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;IAC/C,IAAI,CAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,MAAM,MAAK,MAAM,EAAE;MAC5B,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;MACnC,OAAO,IAAI,CAAC;KACb;;IAGD,OAAO,WAAK,SAAS,EAAE,CAAA,MAAA,MAAA,KAAK,aAAL,KAAK,uBAAL,KAAK,CAAE,UAAU,0CAAE,UAAU,0CAAE,KAAK,MAAI,MAAA,MAAAC,KAAO,aAAPA,KAAO,uBAAPA,KAAO,CAAE,KAAK,0CAAE,IAAI,0CAAE,IAAI,CAAA,GAAG,IAAI,CAAC,QAAQ,GAAG,EAAE,GAAQ,CAAC;GACxH;;;;;;;;;;;;;;;;;;;;;;;;;;","names":["ScCartLoader","uiStore"],"sources":["./src/components/controllers/cart/sc-cart-loader/sc-cart-loader.scss?tag=sc-cart-loader","./src/components/controllers/cart/sc-cart-loader/sc-cart-loader.tsx"],"sourcesContent":[":host {\n  position: absolute;\n  z-index: var(--sc-cart-z-index, 999999);\n  font-family: var(--sc-font-sans);\n}\n","import { Component, h, Prop } from '@stencil/core';\n\nimport { clearOrder, getOrder } from '@store/checkouts';\nimport uiStore from '@store/ui';\n\n@Component({\n  tag: 'sc-cart-loader',\n  styleUrl: 'sc-cart-loader.scss',\n  shadow: false,\n})\nexport class ScCartLoader {\n  /** The form id to use for the cart. */\n  @Prop({ reflect: true }) formId: string;\n\n  /** The mode for the form. */\n  @Prop() mode: 'live' | 'test' = 'live';\n\n  /** The cart template to inject when opened. */\n  @Prop() template: string;\n\n  render() {\n    // check for forms.\n    if (document.querySelector('sc-checkout')) {\n      return;\n    }\n\n    // clear the order if it's already paid.\n    const order = getOrder(this.formId, this.mode);\n    if (order?.status === 'paid') {\n      clearOrder(this.formId, this.mode);\n      return null;\n    }\n\n    // return the loader.\n    return <div innerHTML={order?.line_items?.pagination?.count || uiStore?.state?.cart?.open ? this.template : ''}></div>;\n  }\n}\n"],"version":3}
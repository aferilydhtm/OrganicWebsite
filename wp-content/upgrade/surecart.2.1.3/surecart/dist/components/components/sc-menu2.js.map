{"file":"sc-menu2.js","mappings":"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","names":[],"sources":["./src/components/ui/menu/sc-menu.scss?tag=sc-menu&encapsulation=shadow","./src/components/ui/menu/sc-menu.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n\n.menu {\n  padding: var(--sc-spacing-x-small) 0;\n\n  &:focus {\n    outline: none;\n  }\n}\n\n::slotted(sc-input) {\n  margin-top: -var(--sc-spacing-x-small);\n}\n::slotted(sc-divider) {\n  --spacing: var(--sc-spacing-x-small);\n}\n","import { Component, h, Event, EventEmitter, Element, Method } from '@stencil/core';\n@Component({\n  tag: 'sc-menu',\n  styleUrl: 'sc-menu.scss',\n  shadow: true,\n})\nexport class ScMenu {\n  @Element() el: HTMLElement;\n  @Event() scSelect: EventEmitter<{ item: HTMLScMenuItemElement }>;\n  private items: HTMLScMenuItemElement[] = [];\n\n  /** TODO: Click test */\n  handleClick(event: MouseEvent) {\n    const target = event.target as HTMLElement;\n    const item = target.closest('sc-menu-item') as HTMLScMenuItemElement;\n\n    if (item && !item.disabled) {\n      this.scSelect.emit({ item });\n    }\n  }\n\n  /** TODO: Keydown Test */\n  handleKeyDown(event: KeyboardEvent) {\n    // Make a selection when pressing enter\n    if (event.key === 'Enter') {\n      const item = this.getCurrentItem();\n      event.preventDefault();\n\n      if (item) {\n        this.scSelect.emit({ item });\n      }\n    }\n\n    // Prevent scrolling when space is pressed\n    if (event.key === ' ') {\n      event.preventDefault();\n    }\n\n    // Move the selection when pressing down or up\n    if (['ArrowDown', 'ArrowUp', 'Home', 'End'].includes(event.key)) {\n      const selectedItem = this.getCurrentItem();\n      let index = selectedItem ? this.items.indexOf(selectedItem) : 0;\n\n      if (this.items.length) {\n        event.preventDefault();\n\n        if (event.key === 'ArrowDown') {\n          index++;\n        } else if (event.key === 'ArrowUp') {\n          index--;\n        } else if (event.key === 'Home') {\n          index = 0;\n        } else if (event.key === 'End') {\n          index = this.items.length - 1;\n        }\n\n        if (index < 0) index = 0;\n        if (index > this.items.length - 1) index = this.items.length - 1;\n\n        this.setCurrentItem(this.items[index]);\n\n        return;\n      }\n    }\n  }\n\n  /** Get the active item */\n  getCurrentItem() {\n    return this.items.find(i => i.getAttribute('tabindex') === '0');\n  }\n\n  /**\n   * @internal Sets the current menu item to the specified element. This sets `tabindex=\"0\"` on the target element and\n   * `tabindex=\"-1\"` to all other items. This method must be called prior to setting focus on a menu item.\n   */\n  @Method()\n  async setCurrentItem(item: HTMLScMenuItemElement) {\n    const activeItem = item.disabled ? this.items[0] : item;\n    // Update tab indexes\n    this.items.forEach(i => {\n      i.setAttribute('tabindex', i === activeItem ? '0' : '-1');\n    });\n  }\n\n  /** Sync slotted items with internal state */\n  syncItems() {\n    const slottedElements = (this.el.shadowRoot.querySelector('slot') as HTMLSlotElement).assignedElements({ flatten: true });\n    this.items = slottedElements.filter(node => {\n      return node.nodeName === 'sc-menu-item';\n    }) as HTMLScMenuItemElement[];\n  }\n\n  /** Handle items change in slot */\n  handleSlotChange() {\n    this.syncItems();\n  }\n\n  render() {\n    return (\n      <div part=\"base\" class=\"menu\" role=\"menu\" tabindex=\"0\" onKeyDown={e => this.handleKeyDown(e)}>\n        <slot onSlotchange={() => this.handleSlotChange()}></slot>\n      </div>\n    );\n  }\n}\n"],"version":3}
import{proxyCustomElement,HTMLElement,h}from"@stencil/core/internal/client";import{o as onChange,s as state}from"./watchers.js";import{s as submitCartForm}from"./mutations3.js";import{d as defineCustomElement$a}from"./sc-button2.js";import{d as defineCustomElement$9}from"./sc-dialog2.js";import{d as defineCustomElement$8}from"./sc-form2.js";import{d as defineCustomElement$7}from"./sc-form-control2.js";import{d as defineCustomElement$6}from"./sc-icon2.js";import{d as defineCustomElement$5}from"./sc-input2.js";import{d as defineCustomElement$4}from"./sc-price-input2.js";import{d as defineCustomElement$3}from"./sc-spinner2.js";import{d as defineCustomElement$2}from"./sc-tooltip2.js";const scProductPriceModalCss=":host{display:block}sc-dialog{--body-spacing:var(--sc-spacing-xx-large);color:var(--sc-color-gray-600);text-decoration:none;font-size:16px}.dialog__header{display:flex;align-items:center;gap:var(--sc-spacing-medium)}.dialog__header-text{line-height:var(--sc-line-height-dense)}.dialog__image img{width:60px;height:60px;display:block}.dialog__action{font-weight:var(--sc-font-weight-bold)}.dialog__product-name{font-size:var(--sc-font-size-small)}",ScProductPriceModal$1=proxyCustomElement(class extends HTMLElement{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.buttonText=void 0}componentWillLoad(){onChange("dialog",(e=>{"ad_hoc"===e&&setTimeout((()=>{var e;null===(e=this.priceInput)||void 0===e||e.triggerFocus()}),50)}))}render(){var e,t,o,s,i,n,c,a,l;return(null===(e=null==state?void 0:state.selectedPrice)||void 0===e?void 0:e.ad_hoc)?h("sc-dialog",{open:"ad_hoc"===state.dialog,onScRequestClose:()=>state.dialog=null},h("span",{class:"dialog__header",slot:"label"},!!(null===(t=null==state?void 0:state.product)||void 0===t?void 0:t.image_url)&&h("div",{class:"dialog__image"},h("img",{src:null===(o=null==state?void 0:state.product)||void 0===o?void 0:o.image_url})),h("div",{class:"dialog__header-text"},h("div",{class:"dialog__action"},wp.i18n.__("Enter An Amount","surecart")),h("div",{class:"dialog__product-name"},null===(s=null==state?void 0:state.product)||void 0===s?void 0:s.name))),h("sc-form",{onScSubmit:e=>{e.stopImmediatePropagation(),submitCartForm()},onScFormSubmit:e=>e.stopImmediatePropagation()},h("sc-price-input",{ref:e=>this.priceInput=e,value:null===(n=null===(i=state.adHocAmount)||void 0===i?void 0:i.toString)||void 0===n?void 0:n.call(i),"currency-code":null===(c=null==state?void 0:state.selectedPrice)||void 0===c?void 0:c.currency,min:null===(a=null==state?void 0:state.selectedPrice)||void 0===a?void 0:a.ad_hoc_min_amount,max:null===(l=null==state?void 0:state.selectedPrice)||void 0===l?void 0:l.ad_hoc_max_amount,onScInput:e=>state.adHocAmount=parseInt(e.target.value),required:!0}),h("sc-button",{type:"primary",full:!0,submit:!0,busy:state.busy},this.buttonText||wp.i18n.__("Add To Cart","surecart")))):null}get el(){return this}static get style(){return scProductPriceModalCss}},[1,"sc-product-price-modal",{buttonText:[1,"button-text"]}]);function defineCustomElement$1(){"undefined"!=typeof customElements&&["sc-product-price-modal","sc-button","sc-dialog","sc-form","sc-form-control","sc-icon","sc-input","sc-price-input","sc-spinner","sc-tooltip"].forEach((e=>{switch(e){case"sc-product-price-modal":customElements.get(e)||customElements.define(e,ScProductPriceModal$1);break;case"sc-button":customElements.get(e)||defineCustomElement$a();break;case"sc-dialog":customElements.get(e)||defineCustomElement$9();break;case"sc-form":customElements.get(e)||defineCustomElement$8();break;case"sc-form-control":customElements.get(e)||defineCustomElement$7();break;case"sc-icon":customElements.get(e)||defineCustomElement$6();break;case"sc-input":customElements.get(e)||defineCustomElement$5();break;case"sc-price-input":customElements.get(e)||defineCustomElement$4();break;case"sc-spinner":customElements.get(e)||defineCustomElement$3();break;case"sc-tooltip":customElements.get(e)||defineCustomElement$2()}}))}const ScProductPriceModal=ScProductPriceModal$1,defineCustomElement=defineCustomElement$1;export{ScProductPriceModal,defineCustomElement};
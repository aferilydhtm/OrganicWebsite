import{r as i,h as t,a as e,c as s,H as o}from"./p-25a9e68f.js";import{s as n,v as r,c as d}from"./p-00c08221.js";import{a}from"./p-d8453138.js";import{e as l,f as c,d as u,c as h}from"./p-62338837.js";import{a as v,r as p}from"./p-b6ef0098.js";import{c as m}from"./p-d9c06e90.js";import{m as f}from"./p-a586043b.js";import{a as w,g}from"./p-1c2e2695.js";import{s as y}from"./p-4c5e6c8d.js";import{p as _}from"./p-8617d8eb.js";import{g as E}from"./p-4d73f82a.js";import"./p-db7ede86.js";import"./p-61ab3f3a.js";import"./p-7c27060f.js";import"./p-6c2a2148.js";const C=class{constructor(t){i(this,t);this.state=undefined}componentDidLoad(){window.addEventListener("beforeunload",(i=>this.warnIfUnsavedChanges(i)),{capture:true})}warnIfUnsavedChanges(i){if(["updating","finalizing","confirming"].includes(this.state)){console.log({e:i});i.preventDefault();i.returnValue=wp.i18n.__("Your payment is processing. Exiting this page could cause an error in your order. Please do not navigate away from this page.","surecart");return i.returnValue}}};const S=class{constructor(t){i(this,t);this.disabled=undefined;this.order=undefined;this.taxProtocol=undefined;this.hasAddress=undefined;this.hasTaxIDField=undefined;this.hasBumpsField=undefined;this.hasTaxLine=undefined;this.hasBumpLine=undefined}handleOrderChange(){var i,t,e,s,o,n;if(this.disabled)return;if(((i=this===null||this===void 0?void 0:this.order)===null||i===void 0?void 0:i.tax_status)==="address_invalid"||((t=this===null||this===void 0?void 0:this.order)===null||t===void 0?void 0:t.shipping_enabled)){this.addAddressField()}if((o=(s=(e=this===null||this===void 0?void 0:this.order)===null||e===void 0?void 0:e.recommended_bumps)===null||s===void 0?void 0:s.data)===null||o===void 0?void 0:o.length){this.addBumps()}if(!!((n=this.order)===null||n===void 0?void 0:n.tax_amount)){this.addTaxLine()}}componentWillLoad(){var i,t;this.hasAddress=!!this.el.querySelector("sc-order-shipping-address");this.hasTaxIDField=!!this.el.querySelector("sc-order-tax-id-input");this.hasBumpsField=!!this.el.querySelector("sc-order-bumps");this.hasTaxLine=!!this.el.querySelector("sc-line-item-tax");if((i=this.taxProtocol)===null||i===void 0?void 0:i.tax_enabled){this.addAddressField();if((t=this.taxProtocol)===null||t===void 0?void 0:t.eu_vat_required){this.addTaxIDField()}}this.handleOrderChange()}addAddressField(){if(this.hasAddress)return;const i=this.el.querySelector("sc-payment");const t=document.createElement("sc-order-shipping-address");t.label=wp.i18n.__("Address","surecart");i.parentNode.insertBefore(t,i);this.hasAddress=true}addTaxIDField(){if(this.hasTaxIDField)return;const i=this.el.querySelector("sc-payment");const t=document.createElement("sc-order-tax-id-input");i.parentNode.insertBefore(t,i);this.hasTaxIDField=true}addBumps(){if(this.hasBumpsField)return;const i=this.el.querySelector("sc-payment");const t=document.createElement("sc-order-bumps");i.parentNode.insertBefore(t,i.nextSibling);this.hasBumpsField=true}addTaxLine(){var i;if(this.hasTaxLine)return;const t=this.el.querySelector("sc-line-item-total[total=total]");const e=document.createElement("sc-line-item-tax");if(((i=t===null||t===void 0?void 0:t.previousElementSibling)===null||i===void 0?void 0:i.tagName)==="SC-DIVIDER"){t.parentNode.insertBefore(e,t.previousElementSibling)}else{t.parentNode.insertBefore(e,t)}this.hasTaxLine=true}render(){return t("slot",null)}get el(){return e(this)}static get watchers(){return{order:["handleOrderChange"]}}};const b=class{constructor(t){i(this,t);this.scUpdateError=s(this,"scUpdateError",7);this.scSetState=s(this,"scSetState",7);this.checkoutState=undefined;this.error=undefined}handleErrorUpdate(i){this.scUpdateError.emit(i)}handleStateChange(i){if(["finalizing","updating"].includes(i)){this.error=null}}handleErrorEvent(i){this.error=i.detail;if(Object.keys((i===null||i===void 0?void 0:i.detail)||{}).length){this.scSetState.emit("REJECT")}}handlePayError(i){var t;this.error=((t=i.detail)===null||t===void 0?void 0:t.message)||{code:"",message:"Something went wrong with your payment."}}componentWillLoad(){this.maybeAddErrorsComponent()}maybeAddErrorsComponent(){if(!!this.el.querySelector("sc-checkout-form-errors"))return;const i=document.createElement("sc-checkout-form-errors");console.log(this.el.querySelector("sc-form"));this.el.querySelector("sc-form").prepend(i)}render(){return t("slot",null)}get el(){return e(this)}static get watchers(){return{error:["handleErrorUpdate"],checkoutState:["handleStateChange"]}}};const k=r(d);k.subscribe((i=>n.formState=i));k.start();const{send:P}=k;const I=i=>P(i);const x=class{constructor(t){i(this,t);this.scSetCheckoutFormState=s(this,"scSetCheckoutFormState",7);this._stateService=r(d);this.checkoutState=d.initialState}setState(i){const{send:t}=this._stateService;I(i);return t(i)}handleCheckoutStateChange(i){this.scSetCheckoutFormState.emit(i.value)}componentWillLoad(){this._stateService.subscribe((i=>this.checkoutState=i));this._stateService.start()}disconnectedCallback(){this._stateService.stop()}handleSetStateEvent(i){this.setState(i.detail)}async handlePaid(){this.setState("PAID")}render(){if(this.checkoutState.value==="expired"){return t("sc-block-ui",null,t("div",null,wp.i18n.__("Please refresh the page.","surecart")))}return t("slot",null)}static get watchers(){return{checkoutState:["handleCheckoutStateChange"]}}};const L=":host{display:block}";const T=class{constructor(t){i(this,t);this.scSetLoggedIn=s(this,"scSetLoggedIn",7);this.scSetCustomer=s(this,"scSetCustomer",7);this.loggedIn=undefined;this.order=undefined;this.notice=undefined;this.open=undefined;this.loading=undefined;this.error=undefined}handleLoginPrompt(){this.open=true}handleLoginDialogChange(i){if(i){setTimeout((()=>{this.loginForm.querySelector("sc-input").triggerFocus()}),100)}}handleLoggedInChange(i,t){if(t===false&&i){this.notice=true}}handleOrderChange(i,t){if((i===null||i===void 0?void 0:i.updated_at)!==(t===null||t===void 0?void 0:t.updated_at)){this.notice=false}}async handleFormSubmit(i){i.preventDefault();i.stopImmediatePropagation();this.error=null;const{login:t,password:e}=await i.target.getFormJson();try{this.loading=true;const{name:i,email:s}=await a({method:"POST",path:"surecart/v1/login",data:{login:t,password:e}});this.scSetLoggedIn.emit(true);this.scSetCustomer.emit({name:i,email:s});this.open=false}catch(i){console.error(i);this.error=(i===null||i===void 0?void 0:i.message)||wp.i18n.__("Something went wrong","surecart")}finally{this.loading=false}}render(){return t(o,null,!!this.notice&&t("sc-alert",{type:"success",open:true,style:{marginBottom:"var(--sc-form-row-spacing)"},closable:true},t("span",{slot:"title"},wp.i18n.__("Welcome back!","surecart")),wp.i18n.__("You have logged in successfully.","surecart")),t("slot",null),!this.loggedIn&&t("sc-dialog",{label:wp.i18n.__("Login to your account","surecart"),open:this.open,onScRequestClose:()=>this.open=false},t("sc-form",{ref:i=>this.loginForm=i,onScFormSubmit:i=>{i.preventDefault();i.stopImmediatePropagation()},onScSubmit:i=>this.handleFormSubmit(i)},!!this.error&&t("sc-alert",{type:"danger",open:!!this.error},this.error),t("sc-input",{label:wp.i18n.__("Email or Username","surecart"),type:"text",name:"login",required:true,autofocus:this.open}),t("sc-input",{label:wp.i18n.__("Password","surecart"),type:"password",name:"password",required:true}),t("sc-button",{type:"primary",full:true,loading:this.loading,submit:true},wp.i18n.__("Login","surecart")))))}static get watchers(){return{open:["handleLoginDialogChange"],loggedIn:["handleLoggedInChange"],order:["handleOrderChange"]}}};T.style=L;const R=".confirm__icon{margin-bottom:var(--sc-spacing-medium);display:flex;justify-content:center}.confirm__icon-container{background:var(--sc-color-primary-500);width:55px;height:55px;border-radius:999999px;display:flex;align-items:center;justify-content:center;font-size:26px;line-height:1;color:white}sc-dialog::part(overlay){backdrop-filter:blur(4px)}";const A=class{constructor(t){i(this,t);this.scOrderPaid=s(this,"scOrderPaid",7);this.scSetState=s(this,"scSetState",7);this.scError=s(this,"scError",7);this.showSuccessModal=false;this.confirmedCheckout=undefined;this.successUrl=undefined;this.successText=undefined}handlePaidEvent(){this.confirmOrder()}async confirmOrder(){var i,t,e;try{this.confirmedCheckout=await a({method:"PATCH",path:w(`surecart/v1/checkouts/${(i=v===null||v===void 0?void 0:v.checkout)===null||i===void 0?void 0:i.id}/confirm`,{expand:l})});this.scSetState.emit("CONFIRMED");this.scOrderPaid.emit(this.confirmedCheckout);this.doGoogleAnalytics()}catch(i){console.error(i);this.scError.emit(i)}finally{m();const i=((e=(t=this.confirmedCheckout)===null||t===void 0?void 0:t.metadata)===null||e===void 0?void 0:e.success_url)||this.successUrl;if(i){this.scSetState.emit("REDIRECT");setTimeout((()=>{var t;return window.location.assign(w(i,{order:(t=this.confirmedCheckout)===null||t===void 0?void 0:t.id}))}),50)}else{this.showSuccessModal=true}}}doGoogleAnalytics(){var i,t,e,s,o,n,r,d,a,l,c,u,h,v;if(!(window===null||window===void 0?void 0:window.dataLayer)&&!(window===null||window===void 0?void 0:window.gtag))return;const p={transaction_id:(i=this.confirmedCheckout)===null||i===void 0?void 0:i.id,value:f((t=this.confirmedCheckout)===null||t===void 0?void 0:t.total_amount,((e=this.confirmedCheckout)===null||e===void 0?void 0:e.currency)||"USD"),currency:(this.confirmedCheckout.currency||"").toUpperCase(),...((n=(o=(s=this.confirmedCheckout)===null||s===void 0?void 0:s.discount)===null||o===void 0?void 0:o.promotion)===null||n===void 0?void 0:n.code)?{coupon:(a=(d=(r=this.confirmedCheckout)===null||r===void 0?void 0:r.discount)===null||d===void 0?void 0:d.promotion)===null||a===void 0?void 0:a.code}:{},...((l=this.confirmedCheckout)===null||l===void 0?void 0:l.tax_amount)?{tax:f((c=this.confirmedCheckout)===null||c===void 0?void 0:c.tax_amount,((u=this.confirmedCheckout)===null||u===void 0?void 0:u.currency)||"USD")}:{},items:(((v=(h=this.confirmedCheckout)===null||h===void 0?void 0:h.line_items)===null||v===void 0?void 0:v.data)||[]).map((i=>{var t,e,s,o,n;return{item_name:((e=(t=i===null||i===void 0?void 0:i.price)===null||t===void 0?void 0:t.product)===null||e===void 0?void 0:e.name)||"",discount:(i===null||i===void 0?void 0:i.discount_amount)?f((i===null||i===void 0?void 0:i.discount_amount)||0,((s=this.confirmedCheckout)===null||s===void 0?void 0:s.currency)||"USD"):0,price:f(((o=i===null||i===void 0?void 0:i.price)===null||o===void 0?void 0:o.amount)||0,((n=this.confirmedCheckout)===null||n===void 0?void 0:n.currency)||"USD"),quantity:(i===null||i===void 0?void 0:i.quantity)||1}}))};if(window===null||window===void 0?void 0:window.gtag){window.gtag("event","purchase",p)}if(window===null||window===void 0?void 0:window.dataLayer){window.dataLayer.push({ecommerce:null});window.dataLayer.push({event:"purchase",ecommerce:p})}}getSuccessUrl(){var i,t,e,s,o;const n=((t=(i=this.confirmedCheckout)===null||i===void 0?void 0:i.metadata)===null||t===void 0?void 0:t.success_url)||this.successUrl;return n?w(n,{order:(e=this.confirmedCheckout)===null||e===void 0?void 0:e.id}):(o=(s=window===null||window===void 0?void 0:window.scData)===null||s===void 0?void 0:s.pages)===null||o===void 0?void 0:o.dashboard}render(){var i,e,s,n;const r=(i=this.confirmedCheckout)===null||i===void 0?void 0:i.manual_payment_method;return t(o,null,t("slot",null),t("sc-dialog",{open:!!this.showSuccessModal,style:{"--body-spacing":"var(--sc-spacing-xxx-large)"},noHeader:true,onScRequestClose:i=>i.preventDefault()},t("div",{class:"confirm__icon"},t("div",{class:"confirm__icon-container"},t("sc-icon",{name:"check"}))),t("sc-dashboard-module",{heading:((e=this.successText)===null||e===void 0?void 0:e.title)||wp.i18n.__("Thanks for your order!","surecart"),style:{"--sc-dashboard-module-spacing":"var(--sc-spacing-x-large)",textAlign:"center"}},t("span",{slot:"description"},((s=this.successText)===null||s===void 0?void 0:s.description)||wp.i18n.__("Your payment was successful, and your order is complete. A receipt is on its way to your inbox.","surecart")),!!(r===null||r===void 0?void 0:r.name)&&!!(r===null||r===void 0?void 0:r.instructions)&&t("sc-alert",{type:"info",open:true,style:{"text-align":"left"}},t("span",{slot:"title"},r===null||r===void 0?void 0:r.name),r===null||r===void 0?void 0:r.instructions.split("\n").map((i=>t("p",null,i)))),t("sc-button",{href:this.getSuccessUrl(),size:"large",type:"primary"},((n=this.successText)===null||n===void 0?void 0:n.button)||wp.i18n.__("Continue","surecart"),t("sc-icon",{name:"arrow-right",slot:"suffix"})))))}get el(){return e(this)}};A.style=R;const D=class{constructor(t){i(this,t);this.scUpdateOrderState=s(this,"scUpdateOrderState",7);this.scUpdateDraftState=s(this,"scUpdateDraftState",7);this.scPaid=s(this,"scPaid",7);this.scError=s(this,"scError",7);this.scSetState=s(this,"scSetState",7);this.prices=[];this.persist=true}handlePricesChange(){let i=this.addInitialPrices()||[];i=this.addPriceChoices(i);if(!(i===null||i===void 0?void 0:i.length)){return}return this.loadUpdate({line_items:i})}async finalize(){return await this.handleFormSubmit()}async getFormData(){let i={};const t=this.el.querySelector("sc-form");if(t){const e=await t.getFormJson();i=_(e)}return i}async handleFormSubmit(){var i,t,e,s,o,n,r,d,a;this.scError.emit({});I("FINALIZE");let l=await this.getFormData();if(((i=window===null||window===void 0?void 0:window.scData)===null||i===void 0?void 0:i.recaptcha_site_key)&&(window===null||window===void 0?void 0:window.grecaptcha)){try{l["grecaptcha"]=await window.grecaptcha.execute(window.scData.recaptcha_site_key,{action:"surecart_checkout_submit"})}catch(i){console.error(i);I("REJECT");this.handleErrorResponse(i);return}}try{await this.update(l)}catch(i){console.error(i);I("REJECT");this.handleErrorResponse(i)}try{v.checkout=await c({id:(t=v===null||v===void 0?void 0:v.checkout)===null||t===void 0?void 0:t.id,query:{...(y===null||y===void 0?void 0:y.method)?{payment_method_type:y===null||y===void 0?void 0:y.method}:{},return_url:w(window.location.href,{...((e=v===null||v===void 0?void 0:v.checkout)===null||e===void 0?void 0:e.id)?{checkout_id:(s=v===null||v===void 0?void 0:v.checkout)===null||s===void 0?void 0:s.id}:{},is_surecart_payment_redirect:true})},data:l,processor:{id:y.id,manual:y.manual}});if(["paid","processing"].includes((o=v.checkout)===null||o===void 0?void 0:o.status)){this.scPaid.emit()}if((a=(d=(r=(n=v.checkout)===null||n===void 0?void 0:n.payment_intent)===null||r===void 0?void 0:r.processor_data)===null||d===void 0?void 0:d.mollie)===null||a===void 0?void 0:a.checkout_url){I("PAYING");return setTimeout((()=>{var i,t,e,s;return window.location.assign((s=(e=(t=(i=v.checkout)===null||i===void 0?void 0:i.payment_intent)===null||t===void 0?void 0:t.processor_data)===null||e===void 0?void 0:e.mollie)===null||s===void 0?void 0:s.checkout_url)}),50)}setTimeout((()=>{I("PAYING")}),50);return v.checkout}catch(i){console.error(i);this.handleErrorResponse(i)}}async handlePaid(){I("PAID")}async handlePayError(){I("REJECT")}async handleAbandonedCartUpdate(i){const t=i.detail;this.loadUpdate({abandoned_checkout_enabled:t})}async handleCouponApply(i){const t=i.detail;this.scError.emit({});this.loadUpdate({discount:{...t?{promotion_code:t}:{}}})}componentDidLoad(){this.findOrCreateOrder()}async findOrCreateOrder(){var i;const{redirect_status:t,checkout_id:e,line_items:s,coupon:o,is_surecart_payment_redirect:n}=g(window.location.href);window.history.replaceState({},document.title,p(window.location.href,"redirect_status","coupon","line_items","confirm_checkout_id","checkout_id"));if(!!n&&!!e){I("FINALIZE");I("PAYING");return this.handleCheckoutIdFromUrl(e,o)}if(!!t){return this.handleRedirectStatus(t,e)}if(!!e){return this.handleCheckoutIdFromUrl(e,o)}if(!!s){return this.handleInitialLineItems(s,o)}const r=(i=v===null||v===void 0?void 0:v.checkout)===null||i===void 0?void 0:i.id;if(r&&this.persist){return this.handleExistingCheckout(r,o)}return this.handleNewCheckout(o)}async handleRedirectStatus(i,t){var e,s;console.info("Handling payment redirect.");if(i==="failed"){return this.scError.emit({message:wp.i18n.__("Payment unsuccessful. Please try again.","surecart")})}if(!t){return this.scError.emit({message:wp.i18n.__("Could not find checkout. Please contact us before attempting to purchase again.","surecart")})}try{I("FINALIZE");I("PAID");v.checkout=await u({id:t,query:{refresh_status:true}});if(((e=v.checkout)===null||e===void 0?void 0:e.status)&&["paid","processing"].includes((s=v.checkout)===null||s===void 0?void 0:s.status)){setTimeout((()=>{this.scPaid.emit()}),100)}}catch(i){this.handleErrorResponse(i)}}async handleCheckoutIdFromUrl(i,t=""){var e;console.info("Handling existing checkout from url.",t,i);if(t){return this.loadUpdate({id:i,discount:{promotion_code:t},refresh_price_versions:true})}try{I("FETCH");v.checkout=await u({id:i,query:{refresh_status:true}});I("RESOLVE")}catch(i){this.handleErrorResponse(i)}switch((e=v.checkout)===null||e===void 0?void 0:e.status){case"paid":case"processing":return setTimeout((()=>{I("FINALIZE");I("PAID");this.scPaid.emit()}),100);case"payment_failed":m();return this.scError.emit({message:wp.i18n.__("Payment unsuccessful. Please try again.","surecart")});case"payment_intent_canceled":case"canceled":m();return this.scError.emit({message:wp.i18n.__("Payment canceled. Please try again.","surecart")});case"finalized":this.scError.emit({message:wp.i18n.__("Payment unsuccessful. Please try again.","surecart")});I("REJECT")}}async handleInitialLineItems(i,t){console.info("Handling initial line items.");const e=this.el.querySelector("sc-order-shipping-address");m();return this.loadUpdate({line_items:i,refresh_price_versions:true,...t?{discount:{promotion_code:t}}:{},...(e===null||e===void 0?void 0:e.defaultCountry)?{shipping_address:{country:e===null||e===void 0?void 0:e.defaultCountry}}:{}})}async handleNewCheckout(i){console.info("Handling new checkout.");const t=this.getFormData();const e=this.addPriceChoices(this.addInitialPrices()||[]);const s=this.el.querySelector("sc-order-shipping-address");try{I("FETCH");v.checkout=await h({data:{...t,...i?{discount:{promotion_code:i}}:{},...(s===null||s===void 0?void 0:s.defaultCountry)?{shipping_address:{country:s===null||s===void 0?void 0:s.defaultCountry}}:{},line_items:e}});I("RESOLVE")}catch(i){console.error(i);this.handleErrorResponse(i)}}async handleExistingCheckout(i,t){if(!i)return this.handleNewCheckout(t);console.info("Handling existing checkout.");try{I("FETCH");v.checkout=await h({id:i,data:{...t?{discount:{promotion_code:t}}:{},refresh_price_versions:true}});I("RESOLVE")}catch(i){console.error(i);this.handleErrorResponse(i)}}async handleErrorResponse(i){var t,e,s,o;if(["checkout.not_found"].includes(i===null||i===void 0?void 0:i.code)){window.history.replaceState({},document.title,p(window.location.href,"checkout_id"));m();return this.handleNewCheckout(false)}if(((e=(t=i===null||i===void 0?void 0:i.additional_errors)===null||t===void 0?void 0:t[0])===null||e===void 0?void 0:e.code)==="order.line_items.old_price_versions"){await this.loadUpdate({id:(s=v===null||v===void 0?void 0:v.checkout)===null||s===void 0?void 0:s.id,data:{status:"draft",refresh_price_versions:true}});return}if(["order.invalid_status_transition"].includes(i===null||i===void 0?void 0:i.code)){await this.loadUpdate({id:(o=v===null||v===void 0?void 0:v.checkout)===null||o===void 0?void 0:o.id,data:{status:"draft"}});this.handleFormSubmit();return}if((i===null||i===void 0?void 0:i.code)==="rest_cookie_invalid_nonce"){I("EXPIRE");return}if((i===null||i===void 0?void 0:i.code)==="readonly"){m();window.location.assign(p(window.location.href,"order"));return}console.log("emit",i);this.scError.emit(i);I("REJECT")}async initialize(i={}){let t=this.addInitialPrices()||[];t=this.addPriceChoices(t);if(t===null||t===void 0?void 0:t.length){return this.loadUpdate({line_items:t,...i})}else{return this.loadUpdate({...i})}}addInitialPrices(){var i;if(!((i=this===null||this===void 0?void 0:this.prices)===null||i===void 0?void 0:i.length))return[];if(this.prices.some((i=>!(i===null||i===void 0?void 0:i.id)))){return}return this.prices.map((i=>({price_id:i.id,quantity:i.quantity})))}addPriceChoices(i=[]){const t=this.el.querySelectorAll("[price-id]");t.forEach((t=>{if(t.checked){i.push({quantity:t.quantity||1,price_id:t.priceId,...t.defaultAmount?{ad_hoc_amount:t.defaultAmount}:{}})}if(t.defaultAmount){i.push({quantity:t.quantity||1,price_id:t.priceId,ad_hoc_amount:t.defaultAmount})}}));return i}getSessionId(){var i,t;const e=E(window.location.href,"checkout_id");if(!!e){return e}if((i=v===null||v===void 0?void 0:v.checkout)===null||i===void 0?void 0:i.id){return(t=v===null||v===void 0?void 0:v.checkout)===null||t===void 0?void 0:t.id}return null}async fetchCheckout(i,{query:t={},data:e={}}={}){try{I("FETCH");const s=await h({id:i,query:t,data:e});I("RESOLVE");return s}catch(i){this.handleErrorResponse(i)}}async fetch(i={}){try{I("FETCH");v.checkout=await u({id:this.getSessionId(),query:i});I("RESOLVE")}catch(i){this.handleErrorResponse(i)}}async update(i={},t={}){try{v.checkout=await h({id:(i===null||i===void 0?void 0:i.id)?i.id:this.getSessionId(),data:i,query:t})}catch(i){if(["checkout.not_found"].includes(i===null||i===void 0?void 0:i.code)){m();return this.initialize()}console.error(i);throw i}}async loadUpdate(i={}){try{I("FETCH");await this.update(i);I("RESOLVE")}catch(i){this.handleErrorResponse(i)}}render(){return t("sc-line-items-provider",{order:v===null||v===void 0?void 0:v.checkout,onScUpdateLineItems:i=>this.loadUpdate({line_items:i.detail})},t("slot",null))}get el(){return e(this)}static get watchers(){return{prices:["handlePricesChange"]}}};export{C as sc_checkout_unsaved_changes_warning,S as sc_form_components_validator,b as sc_form_error_provider,x as sc_form_state_provider,T as sc_login_provider,A as sc_order_confirm_provider,D as sc_session_provider};
//# sourceMappingURL=p-157f2795.entry.js.map
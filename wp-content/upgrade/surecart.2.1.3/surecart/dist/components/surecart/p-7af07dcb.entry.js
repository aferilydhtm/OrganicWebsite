import{r as t,c as s,h as i}from"./p-25a9e68f.js";import{g as e}from"./p-a0a91ecb.js";const n=new Map;const r=t=>{if(n.has(t)){return n.get(t)}else{const s=fetch(t).then((async t=>{if(t.ok){const s=document.createElement("div");s.innerHTML=await t.text();const i=s.firstElementChild;return{ok:t.ok,status:t.status,svg:i&&i.tagName.toLowerCase()==="svg"?i.outerHTML:""}}else{return{ok:t.ok,status:t.status,svg:null}}}));n.set(t,s);return s}};const h=":host{--width:1em;--height:1em;display:inline-block;width:var(--width);height:var(--height);contain:strict;box-sizing:content-box !important}.icon,svg{display:block;height:100%;width:100%;stroke-width:var(--sc-icon-stroke-width, 2px)}";const c=new DOMParser;const o=class{constructor(i){t(this,i);this.scLoad=s(this,"scLoad",7);this.scError=s(this,"scError",7);this.svg="";this.name=undefined;this.src=undefined;this.label=undefined;this.library="default"}redraw(){this.setIcon()}componentWillLoad(){this.setIcon()}getLabel(){let t="";if(this.label){t=this.label}else if(this.name){t=this.name.replace(/-/g," ")}else if(this.src){t=this.src.replace(/.*\//,"").replace(/-/g," ").replace(/\.svg/i,"")}return t}async setIcon(){const t=e(this.library);const s=this.getUrl();if(s){try{const i=await r(s);if(s!==this.getUrl()){return}else if(i.ok){const s=c.parseFromString(i.svg,"text/html");const e=s.body.querySelector("svg");if(e){if(t&&t.mutator){t.mutator(e)}this.svg=e.outerHTML;this.scLoad.emit()}else{this.svg="";this.scError.emit({status:i.status})}}else{this.svg="";this.scError.emit({status:i.status})}}catch{this.scError.emit({status:-1})}}else if(this.svg){this.svg=""}}getUrl(){const t=e(this.library);if(this.name&&t){return t.resolver(this.name)}else{return this.src}}render(){return i("div",{part:"base",class:"icon",role:"img","aria-label":this.getLabel(),innerHTML:this.svg})}static get assetsDirs(){return["icon-assets"]}static get watchers(){return{name:["setIcon"],src:["setIcon"],library:["setIcon"]}}};o.style=h;export{o as sc_icon};
//# sourceMappingURL=p-7af07dcb.entry.js.map
import{r as o,h as r,H as n}from"./p-25a9e68f.js";import{s as l}from"./p-4c5e6c8d.js";import{c as i}from"./p-c0bd2731.js";import"./p-db7ede86.js";import"./p-b6ef0098.js";import"./p-1c2e2695.js";const e=(o,r)=>(o||[]).some((({rules:o})=>s(o,r)));const s=(o,{checkout:r,processor:n})=>o.map((o=>{var l,i;const e=Array.isArray(o===null||o===void 0?void 0:o.value)?(o===null||o===void 0?void 0:o.value).map((o=>(o===null||o===void 0?void 0:o.value)||o)):o===null||o===void 0?void 0:o.value;switch(o===null||o===void 0?void 0:o.condition){case"total":return v(parseFloat(r.total_amount),parseFloat(e),o===null||o===void 0?void 0:o.operator);case"products":return d(t(r),e,o===null||o===void 0?void 0:o.operator);case"coupons":return d(u(r),e,o===null||o===void 0?void 0:o.operator);case"shipping_country":return d([(l=r===null||r===void 0?void 0:r.shipping_address)===null||l===void 0?void 0:l.country],e,o===null||o===void 0?void 0:o.operator);case"billing_country":return d([(i=r===null||r===void 0?void 0:r.billing_address)===null||i===void 0?void 0:i.country],e,o===null||o===void 0?void 0:o.operator);case"processors":return d([n],e,o===null||o===void 0?void 0:o.operator);default:return false}})).every((o=>o));const t=o=>{var r;return(((r=o===null||o===void 0?void 0:o.line_items)===null||r===void 0?void 0:r.data)||[]).map((({price:o})=>{var r;return(r=o===null||o===void 0?void 0:o.product)===null||r===void 0?void 0:r.id}))};const u=o=>{var r,n,l,i;return((n=(r=o===null||o===void 0?void 0:o.discount)===null||r===void 0?void 0:r.coupon)===null||n===void 0?void 0:n.id)?[(i=(l=o===null||o===void 0?void 0:o.discount)===null||l===void 0?void 0:l.coupon)===null||i===void 0?void 0:i.id]:[]};const d=(o,r,n)=>{switch(n){case"all":return r.filter((r=>o.some((o=>r==o)))).length===r.length;case"any":return o.filter((o=>r.some((r=>o==r)))).length>=1;case"none":return o.filter((o=>r.some((r=>o==r)))).length===0;case"exist":return o.length>=1;case"not_exist":return o.length===0;default:return false}};const v=(o,r,n)=>{switch(n){case"==":return o===r;case"!=":return o!==r;case">":return o>r;case"<":return o<r;case"<=":return o<=r;case">=":return o>=r}return false};const c=":host{display:block}";const a=class{constructor(r){o(this,r);this.rule_groups=undefined}render(){let o=e(this.rule_groups,{checkout:i(),processor:l===null||l===void 0?void 0:l.id});if(!o)return null;return r(n,null,r("slot",null))}};a.style=c;export{a as sc_conditional_form};
//# sourceMappingURL=p-4bc7644c.entry.js.map
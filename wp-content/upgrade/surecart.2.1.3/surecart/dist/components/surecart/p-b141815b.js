import{c as o}from"./p-db7ede86.js";var d,i,l,n,v,u,t,w,e,a,c;const s=(null===(i=null===(d=null===window||void 0===window?void 0:window.scData)||void 0===d?void 0:d.product_data)||void 0===i?void 0:i.product)||null,r=(null===(l=null==s?void 0:s.prices)||void 0===l?void 0:l.data)||[],m=(r||[]).sort(((o,d)=>(null==o?void 0:o.position)-(null==d?void 0:d.position))).find((o=>!(null==o?void 0:o.archived))),p=(null==m?void 0:m.amount)||null,_=o({formId:null===(u=null===(v=null===(n=null===window||void 0===window?void 0:window.scData)||void 0===n?void 0:n.product_data)||void 0===v?void 0:v.form)||void 0===u?void 0:u.ID,mode:(null===(w=null===(t=null===window||void 0===window?void 0:window.scData)||void 0===t?void 0:t.product_data)||void 0===w?void 0:w.mode)||"live",product:s,prices:r,quantity:1,selectedPrice:m,total:null,dialog:null,busy:!1,disabled:(null==m?void 0:m.archived)||(null==s?void 0:s.archived),adHocAmount:p,error:null,checkoutUrl:null===(a=null===(e=null===window||void 0===window?void 0:window.scData)||void 0===e?void 0:e.product_data)||void 0===a?void 0:a.checkout_link,line_item:{price_id:null==m?void 0:m.id,quantity:1,...(null==m?void 0:m.ad_hoc)?{ad_hoc_amount:p}:{}}},((o,d)=>JSON.stringify(o)!==JSON.stringify(d))),{state:f,onChange:y,on:h,dispose:q,forceUpdate:b}=_;(null===(c=null===window||void 0===window?void 0:window.sc)||void 0===c?void 0:c.store)&&(window.sc.store.product=_),y("selectedPrice",(o=>{var d;f.total=f.adHocAmount||(null==o?void 0:o.amount)||0,f.adHocAmount=null==o?void 0:o.amount,f.disabled=(null==o?void 0:o.archived)||(null===(d=f.product)||void 0===d?void 0:d.archived)})),y("selectedPrice",(()=>P())),y("adHocAmount",(()=>P())),y("quantity",(()=>P()));const P=()=>{var o,d,i;f.line_item={price_id:null===(o=f.selectedPrice)||void 0===o?void 0:o.id,quantity:(null===(d=f.selectedPrice)||void 0===d?void 0:d.ad_hoc)?1:f.quantity,...(null===(i=f.selectedPrice)||void 0===i?void 0:i.ad_hoc)?{ad_hoc_amount:f.adHocAmount}:{}}};export{h as a,q as d,b as f,y as o,f as s};
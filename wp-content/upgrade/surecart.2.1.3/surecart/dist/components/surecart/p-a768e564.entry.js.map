{"version":3,"names":["scCartLoaderCss","ScCartLoader","render","document","querySelector","order","getOrder","this","formId","mode","status","clearOrder","h","innerHTML","_b","_a","line_items","pagination","count","_d","_c","uiStore","state","cart","open","template"],"sources":["./src/components/controllers/cart/sc-cart-loader/sc-cart-loader.scss?tag=sc-cart-loader","./src/components/controllers/cart/sc-cart-loader/sc-cart-loader.tsx"],"sourcesContent":[":host {\n  position: absolute;\n  z-index: var(--sc-cart-z-index, 999999);\n  font-family: var(--sc-font-sans);\n}\n","import { Component, h, Prop } from '@stencil/core';\n\nimport { clearOrder, getOrder } from '@store/checkouts';\nimport uiStore from '@store/ui';\n\n@Component({\n  tag: 'sc-cart-loader',\n  styleUrl: 'sc-cart-loader.scss',\n  shadow: false,\n})\nexport class ScCartLoader {\n  /** The form id to use for the cart. */\n  @Prop({ reflect: true }) formId: string;\n\n  /** The mode for the form. */\n  @Prop() mode: 'live' | 'test' = 'live';\n\n  /** The cart template to inject when opened. */\n  @Prop() template: string;\n\n  render() {\n    // check for forms.\n    if (document.querySelector('sc-checkout')) {\n      return;\n    }\n\n    // clear the order if it's already paid.\n    const order = getOrder(this.formId, this.mode);\n    if (order?.status === 'paid') {\n      clearOrder(this.formId, this.mode);\n      return null;\n    }\n\n    // return the loader.\n    return <div innerHTML={order?.line_items?.pagination?.count || uiStore?.state?.cart?.open ? this.template : ''}></div>;\n  }\n}\n"],"mappings":"0KAAA,MAAMA,EAAkB,kG,MCUXC,EAAY,M,yDAKS,O,wBAKhCC,S,YAEE,GAAIC,SAASC,cAAc,eAAgB,CACzC,M,CAIF,MAAMC,EAAQC,EAASC,KAAKC,OAAQD,KAAKE,MACzC,IAAIJ,IAAK,MAALA,SAAK,SAALA,EAAOK,UAAW,OAAQ,CAC5BC,EAAWJ,KAAKC,OAAQD,KAAKE,MAC7B,OAAO,I,CAIT,OAAOG,EAAA,OAAKC,YAAWC,GAAAC,EAAAV,IAAK,MAALA,SAAK,SAALA,EAAOW,cAAU,MAAAD,SAAA,SAAAA,EAAEE,cAAU,MAAAH,SAAA,SAAAA,EAAEI,UAASC,GAAAC,EAAAC,IAAO,MAAPA,SAAO,SAAPA,EAASC,SAAK,MAAAF,SAAA,SAAAA,EAAEG,QAAI,MAAAJ,SAAA,SAAAA,EAAEK,MAAOjB,KAAKkB,SAAW,I"}
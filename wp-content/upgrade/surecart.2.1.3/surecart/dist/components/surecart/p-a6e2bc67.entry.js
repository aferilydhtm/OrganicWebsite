import{r as s,h as i,H as t}from"./p-25a9e68f.js";import{o as e}from"./p-c728334f.js";const r=":host{display:block}.password{display:grid;gap:var(--sc-form-row-spacing, 0.75em)}";const d=class{constructor(i){s(this,i);this.loggedIn=undefined;this.size="medium";this.value="";this.pill=false;this.label=undefined;this.showLabel=true;this.help="";this.placeholder=undefined;this.disabled=false;this.readonly=false;this.required=false;this.autofocus=undefined;this.emailExists=undefined;this.confirmation=false;this.confirmationLabel=undefined;this.confirmationPlaceholder=undefined;this.confirmationHelp=undefined;this.enableValidation=true}async reportValidity(){var s,i,t,e,r,d,h,a;if(this.loggedIn)return true;(i=(s=this.input)===null||s===void 0?void 0:s.setCustomValidity)===null||i===void 0?void 0:i.call(s,"");(e=(t=this.confirmInput)===null||t===void 0?void 0:t.setCustomValidity)===null||e===void 0?void 0:e.call(t,"");if(this.confirmation){if(((r=this.confirmInput)===null||r===void 0?void 0:r.value)&&((d=this.input)===null||d===void 0?void 0:d.value)!==((h=this.confirmInput)===null||h===void 0?void 0:h.value)){this.confirmInput.setCustomValidity(wp.i18n.__("Password does not match.","surecart"))}}if(this.enableValidation){const s=this.validatePassword((a=this.input)===null||a===void 0?void 0:a.value);if(!s){this.input.setCustomValidity(wp.i18n.__("Passwords should at least 6 characters and contain one special character.","surecart"))}}const o=await this.input.reportValidity();if(!o){return false}if(this.confirmInput){return this.confirmInput.reportValidity()}return o}validatePassword(s){const i=new RegExp("^(?=.*?[#?!@$%^&*-]).{6,}$");if(i.test(s))return true;return false}render(){var s;if(this.loggedIn){return i(t,{style:{display:"none"}})}return i("div",{class:"password"},i("sc-input",{ref:s=>this.input=s,label:this.label,help:this.help,autofocus:this.autofocus,placeholder:this.placeholder,showLabel:this.showLabel,size:this.size?this.size:"medium",type:"password",name:"password",value:this.value,required:this.required,disabled:this.disabled}),this.confirmation&&i("sc-input",{ref:s=>this.confirmInput=s,label:(s=this.confirmationLabel)!==null&&s!==void 0?s:wp.i18n.__("Confirm Password","surecart"),help:this.confirmationHelp,placeholder:this.confirmationPlaceholder,size:this.size?this.size:"medium",type:"password",value:this.value,required:this.required,disabled:this.disabled}))}};e(d,["loggedIn","emailExists"],false);d.style=r;export{d as sc_order_password};
//# sourceMappingURL=p-a6e2bc67.entry.js.map
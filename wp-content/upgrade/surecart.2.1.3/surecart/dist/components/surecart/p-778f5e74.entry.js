import{r as i,c as o,h as r}from"./p-25a9e68f.js";import{o as t}from"./p-c728334f.js";import{i as s}from"./p-d556eec7.js";const n=":host{display:block}.coupon-form{position:relative}.form{opacity:0;visibility:hidden;height:0;transition:opacity var(--sc-transition-fast) ease-in-out}.coupon-form--is-open .form{opacity:1;visibility:visible;height:auto;margin-top:var(--sc-spacing-small);display:grid;gap:var(--sc-spacing-small)}.coupon-form--is-open .trigger{color:var(--sc-input-label-color)}.coupon-form--is-open .trigger:hover{text-decoration:none}.trigger{cursor:pointer;font-size:var(--sc-font-size-small);color:var(--sc-color-gray-500);user-select:none}.trigger:hover{text-decoration:underline}.order-coupon-form--is-rtl .trigger,.order-coupon-form--is-rtl .trigger:hover{text-align:right}";const e=class{constructor(r){i(this,r);this.scApplyCoupon=o(this,"scApplyCoupon",7);this.label=undefined;this.loading=undefined;this.busy=undefined;this.error=undefined;this.order=undefined;this.collapsed=undefined;this.placeholder=undefined;this.buttonText=undefined;this.open=undefined;this.value=undefined;this.errorMessage=undefined}handleErrorsChange(){var i;const o=(((i=this===null||this===void 0?void 0:this.error)===null||i===void 0?void 0:i.additional_errors)||[]).find((i=>{var o;return((o=i===null||i===void 0?void 0:i.data)===null||o===void 0?void 0:o.attribute)==="discount.promotion_code"}));this.errorMessage=(o===null||o===void 0?void 0:o.message)?o===null||o===void 0?void 0:o.message:""}render(){var i,o,t,n,e,d;return r("sc-coupon-form",{label:this.label||wp.i18n.__("Add Coupon Code","surecart"),collapsed:this.collapsed,placeholder:this.placeholder,loading:this.busy&&!((t=(o=(i=this.order)===null||i===void 0?void 0:i.line_items)===null||o===void 0?void 0:o.data)===null||t===void 0?void 0:t.length),busy:this.busy,error:this.errorMessage,discount:(n=this===null||this===void 0?void 0:this.order)===null||n===void 0?void 0:n.discount,currency:(e=this===null||this===void 0?void 0:this.order)===null||e===void 0?void 0:e.currency,"discount-amount":(d=this===null||this===void 0?void 0:this.order)===null||d===void 0?void 0:d.discount_amount,class:{"order-coupon-form--is-rtl":s()},"button-text":this.buttonText||wp.i18n.__("Apply","surecart")})}static get watchers(){return{error:["handleErrorsChange"]}}};t(e,["loading","busy","order","error"],false);e.style=n;export{e as sc_order_coupon_form};
//# sourceMappingURL=p-778f5e74.entry.js.map